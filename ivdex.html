<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ì˜¤í”„ë¼ì¸ ì‚¬ì§„ ì œëª© ê²Œì„</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body { font-family: Arial; max-width: 500px; margin: auto; padding: 20px; }
  .card { background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 3px 5px rgba(0,0,0,0.1); margin-bottom: 20px; }
  input, button { width: 100%; padding: 12px; font-size: 16px; margin-top: 10px; border-radius: 10px; }
  button { background: #5865F2; color: white; border: none; font-weight: bold; }
  .buzzer-btn { background: #FF5252; font-size: 20px; }
  .like-btn { background: #FFA726; margin-top: 10px; }
</style>
</head>

<body>

<div class="card">
  <h2>í”Œë ˆì´ì–´ ì¶”ê°€</h2>
  <input id="playerName" placeholder="ì´ë¦„ ì…ë ¥">
  <button onclick="addPlayer()">ì¶”ê°€</button>

  <div id="playerList"></div>
</div>

<div class="card">
  <h2>ë²„ì €(ì† ë²„íŠ¼)</h2>
  <button class="buzzer-btn" onclick="pressBuzzer()">ì† ë²„íŠ¼ ëˆ„ë¥´ê¸°</button>

  <h3 id="buzzerResult">ì•„ì§ ì•„ë¬´ë„ ëˆ„ë¥´ì§€ ì•ŠìŒ</h3>
</div>

<div class="card" id="captionBox" style="display:none;">
  <h2>ì œëª© ì…ë ¥</h2>
  <input id="captionInput" placeholder="ì œëª© ì…ë ¥">
  <button onclick="submitCaption()">ì œì¶œ</button>
</div>

<div class="card" id="showCaption" style="display:none;">
  <h2>ì œì¶œëœ ì œëª©</h2>
  <div id="captionText"></div>
  <button class="like-btn" onclick="addLike()">ğŸ‘ ì¢‹ì•„ìš”</button>
  <div id="likeCount">ì¢‹ì•„ìš”: 0</div>
</div>

<div class="card">
  <button onclick="resetRound()">ë‹¤ìŒ ë¼ìš´ë“œ ì‹œì‘</button>
</div>

<script>
  let players = [];
  let buzzerWinner = null;
  let likes = 0;

  // í”Œë ˆì´ì–´ ì¶”ê°€
  function addPlayer() {
    let name = document.getElementById("playerName").value;
    if (!name) return alert("ì´ë¦„ ì…ë ¥!");

    players.push(name);
    updatePlayerList();
    document.getElementById("playerName").value = "";
  }

  function updatePlayerList() {
    let list = document.getElementById("playerList");
    list.innerHTML = "<h3>í”Œë ˆì´ì–´:</h3>" + players.map(p => "- " + p).join("<br>");
  }

  // ë²„ì € ëˆ„ë¥´ê¸°
  function pressBuzzer() {
    if (buzzerWinner) return alert("ì´ë¯¸ ëˆ„ë¥¸ ì‚¬ëŒì´ ìˆìŠµë‹ˆë‹¤!");

    let name = prompt("ë‹¹ì‹ ì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš” (í™•ì¸ìš©)");
    if (!players.includes(name)) {
      alert("ë“±ë¡ëœ í”Œë ˆì´ì–´ê°€ ì•„ë‹™ë‹ˆë‹¤!");
      return;
    }

    buzzerWinner = name;
    document.getElementById("buzzerResult").innerText = name + " ë‹˜ì´ ë¨¼ì € ëˆŒë €ìŠµë‹ˆë‹¤!";

    // ì œëª© ì…ë ¥ì°½ í™œì„±í™”
    document.getElementById("captionBox").style.display = "block";
  }

  // ì œëª© ì œì¶œ
  function submitCaption() {
    let text = document.getElementById("captionInput").value;
    if (!text) return;

    document.getElementById("captionText").innerText = text;
    document.getElementById("showCaption").style.display = "block";

    document.getElementById("captionInput").value = "";
  }

  // ì¢‹ì•„ìš” ì¦ê°€
  function addLike() {
    likes++;
    document.getElementById("likeCount").innerText = "ì¢‹ì•„ìš”: " + likes;
  }

  // ë‹¤ìŒ ë¼ìš´ë“œ
  function resetRound() {
    buzzerWinner = null;
    likes = 0;

    document.getElementById("buzzerResult").innerText = "ì•„ì§ ì•„ë¬´ë„ ëˆ„ë¥´ì§€ ì•ŠìŒ";
    document.getElementById("captionBox").style.display = "none";
    document.getElementById("showCaption").style.display = "none";
    document.getElementById("likeCount").innerText = "ì¢‹ì•„ìš”: 0";
  }
</script>

</body>
</html>
